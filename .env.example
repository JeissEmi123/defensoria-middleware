# ============================================
# CONFIGURACIÓN DE SEGURIDAD - ¡CRÍTICO!
# ============================================
# Generar con: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
JWT_SECRET_KEY=your-jwt-secret-key-here-generate-with-openssl-rand-hex-32
JWT_REFRESH_SECRET_KEY=your-jwt-refresh-secret-key-here-generate-with-openssl-rand-hex-32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Configuración de Rate Limiting
RATE_LIMIT_PER_MINUTE=60
AUTH_RATE_LIMIT_PER_MINUTE=5

# Configuración de CORS (dominios permitidos separados por coma)
ALLOWED_ORIGINS=https://defensoria.gob.pe,https://app.defensoria.gob.pe
ALLOWED_HOSTS=defensoria.gob.pe,app.defensoria.gob.pe

# ============================================
# BASE DE DATOS
# ============================================
DATABASE_URL=postgresql+asyncpg://your_db_user:your_strong_password@your_db_host:5432/defensoria_db
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=False

# Configuración de Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_AUDIT_LOG=True

# Azure Active Directory (para integración futura)
AZURE_AD_ENABLED=False
AZURE_AD_TENANT_ID=your-tenant-id
AZURE_AD_CLIENT_ID=your-client-id
AZURE_AD_CLIENT_SECRET=your-client-secret
AZURE_AD_REDIRECT_URI=https://app.defensoria.gob.pe/auth/callback

# ============================================
# LDAP (para integración actual)
# ============================================
LDAP_ENABLED=false
LDAP_SERVER=ldaps://your-ldap-server.domain.com
LDAP_PORT=636
LDAP_USE_SSL=true
LDAP_BASE_DN=dc=your-org,dc=domain,dc=com
LDAP_USER_DN_TEMPLATE=uid={username},ou=users,dc=your-org,dc=domain,dc=com
LDAP_BIND_DN=cn=app_service,ou=service_accounts,dc=your-org,dc=domain,dc=com
LDAP_BIND_PASSWORD=your-ldap-service-account-password
LDAP_SEARCH_FILTER=(uid={username})
LDAP_TIMEOUT=10

# Configuración Local Auth (fallback para desarrollo)
LOCAL_AUTH_ENABLED=False

# Google Cloud Platform
GCP_PROJECT_ID=defensoria-project
GCP_REGION=us-central1
ENABLE_GCP_SECRET_MANAGER=False

# Configuración de Gmail API
GMAIL_SERVICE_ACCOUNT_FILE=/path/to/service-account.json
GMAIL_DELEGATED_USER=coordinador@defensoria.gob.pe

# Correo del coordinador responsable de las notificaciones de señales
COORDINADOR_EMAIL=coordinador@defensoria.gob.pe

# Security Headers
ENABLE_SECURITY_HEADERS=True
ENABLE_HTTPS_REDIRECT=True

# Session Management
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=strict

# Aplicación
APP_NAME=Defensoria Middleware
APP_VERSION=1.0.0
APP_ENV=production
DEBUG=False
